{"ast":null,"code":"var _jsxFileName = \"/home/mike/Documents/Nand2Tetris React Projects/VM Translator/src/Components/Codewriter.js\";\nimport React from 'react';\nimport ConvertToFile from './ConvertToFile';\n\nconst Codewriter = ({\n  content\n}) => {\n  let Assembly_code = [];\n  const mappingObj = {\n    local: \"LCL\",\n    argument: \"ARG\",\n    this: \"THIS\",\n    that: \"THAT\",\n    temp: \"5\"\n  };\n\n  const pushHandler = singleLine => {\n    const singleLine_content = singleLine.replace(\"push\", \"\");\n\n    if (singleLine_content.includes(\"constant\") || singleLine_content.includes(\"pointer\")) {\n      const temp = singleLine_content.replace(\"constant\", \"\");\n      const singleLine_constant = temp.trim();\n      const tobePushed = \"@\" + singleLine_constant;\n      const constant_arr = [tobePushed, \"D=A\", \"@SP\", \"A=M\", \"M=D\", \"@SP\", \"M=M+1\"];\n      Assembly_code = [...Assembly_code, ...constant_arr];\n      return Assembly_code;\n    } else if (singleLine_content.includes(\"static\")) {\n      return Assembly_code;\n    } else {\n      const tobeSeparated = singleLine_content.trim();\n      const segments = tobeSeparated.split(\" \");\n      const firstValue = \"@\" + segments[1];\n      let nextValue = \"\";\n      let tempidentified = \"\";\n\n      if (Object.keys(mappingObj).includes(segments[0])) {\n        nextValue = \"@\" + mappingObj[segments[0]];\n\n        if (segments[0] === \"temp\") {\n          tempidentified = \"D=D+A\";\n        } else {\n          tempidentified = \"D=D+M\";\n        }\n      }\n\n      const segmentArr = [firstValue, \"D=A\", nextValue, \"A=M+D\", \"D=M\", \"@SP\", \"A=M\", \"M=D\", \"@SP\", \"M=M+1\"];\n      Assembly_code = [...Assembly_code, ...segmentArr];\n      return Assembly_code;\n    }\n  };\n\n  const popHandler = singleLine => {\n    const singleLine_content = singleLine.replace(\"pop\", \"\");\n\n    if (singleLine_content.includes(\"pointer\")) {\n      const temp = singleLine_content.replace(\"pointer\", \"\");\n      const singleLine_pointer = temp.trim();\n      const tobeAdded = \"@\" + singleLine_pointer;\n      let comment = \"//\" + singleLine_content;\n      const pointerArr = [comment, \"@SP\", \"M=M-1\", \"@SP\", \"A=M\", \"D=M\", tobeAdded, \"A=D\"];\n      Assembly_code = [...Assembly_code, ...pointerArr];\n      return Assembly_code;\n    } else if (singleLine_content.includes(\"static\")) {\n      return Assembly_code;\n    } else {\n      const tobeSeparated_Pop = singleLine_content.trim();\n      const segments_pop = tobeSeparated_Pop.split(\" \");\n      const first_pop = \"@\" + segments_pop[1];\n      let next_pop = \"\";\n      let tempidentified = \"\";\n      let comment = \"//\" + singleLine_content;\n\n      if (Object.keys(mappingObj).includes(segments_pop[0])) {\n        next_pop = \"@\" + mappingObj[segments_pop[0]];\n\n        if (segments_pop[0] === \"temp\") {\n          tempidentified = \"D=D+A\";\n        } else {\n          tempidentified = \"D=D+M\";\n        }\n      }\n\n      const segment_pop_arr = [comment, first_pop, \"D=A\", next_pop, tempidentified, \"@R13\", \"M=D\", \"@SP\", \"M=M-1\", \"@SP\", \"A=M\", \"D=M\", \"@R13\", \"A=M\", \"M=D\"];\n      Assembly_code = [...Assembly_code, ...segment_pop_arr];\n      return Assembly_code;\n    }\n  };\n\n  const artihmeticHandler = singleLine_content => {\n    if (singleLine_content === \"add\") {\n      let comment = \"//\" + singleLine_content;\n      console.log(\"I'm called twice\");\n      const addArr = [comment, \"@SP\", \"M=M-1\", \"@SP\", \"A=M\", \"D=M\", \"@SP\", \"M=M-1\", \"@SP\", \"A=M\", \"D=M+D\", \"@SP\", \"A=M\", \"M=D\", \"@SP\", \"M=M+1\"];\n      Assembly_code = [...Assembly_code, ...addArr];\n    } else if (singleLine_content === \"sub\") {\n      console.log(\"I'm called once\");\n      let comment = \"//\" + singleLine_content;\n      const subArr = [comment, \"@SP\", \"M=M-1\", \"@SP\", \"A=M\", \"D=M\", \"@SP\", \"M=M-1\", \"@SP\", \"A=M\", \"D=M-D\", \"@SP\", \"A=M\", \"M=D\", \"@SP\", \"M=M+1\"];\n      Assembly_code = [...Assembly_code, ...subArr];\n    }\n\n    return Assembly_code;\n  };\n\n  const codeReplacer = singleLine_content => {\n    if (singleLine_content.startsWith(\"push\")) {\n      pushHandler(singleLine_content);\n    } else if (singleLine_content.startsWith(\"pop\")) {\n      popHandler(singleLine_content);\n    } else if (singleLine_content.startsWith(\"add\") || singleLine_content.startsWith(\"sub\")) {\n      console.log(\"I'm about to be called\", singleLine_content);\n      artihmeticHandler(singleLine_content);\n    }\n  };\n\n  content.map(item => {\n    return codeReplacer(item);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ConvertToFile, {\n    content: Assembly_code,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default Codewriter;","map":{"version":3,"sources":["/home/mike/Documents/Nand2Tetris React Projects/VM Translator/src/Components/Codewriter.js"],"names":["React","ConvertToFile","Codewriter","content","Assembly_code","mappingObj","local","argument","this","that","temp","pushHandler","singleLine","singleLine_content","replace","includes","singleLine_constant","trim","tobePushed","constant_arr","tobeSeparated","segments","split","firstValue","nextValue","tempidentified","Object","keys","segmentArr","popHandler","singleLine_pointer","tobeAdded","comment","pointerArr","tobeSeparated_Pop","segments_pop","first_pop","next_pop","segment_pop_arr","artihmeticHandler","console","log","addArr","subArr","codeReplacer","startsWith","map","item"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ConvertToFile from './ConvertToFile';\n\nconst Codewriter = ({content}) => {\n\n    let Assembly_code = [];\n    const mappingObj = { local : \"LCL\",argument : \"ARG\", this: \"THIS\",that: \"THAT\",temp : \"5\"};\n\n\n    const pushHandler = (singleLine) => {\n        const singleLine_content = singleLine.replace(\"push\",\"\");\n        if(singleLine_content.includes(\"constant\") || singleLine_content.includes(\"pointer\")){\n            const temp = singleLine_content.replace(\"constant\",\"\");\n            const singleLine_constant = temp.trim();\n            const tobePushed = \"@\" + singleLine_constant;\n            const constant_arr = [tobePushed,\"D=A\",\"@SP\",\"A=M\",\"M=D\",\"@SP\",\"M=M+1\"];\n            Assembly_code = [...Assembly_code,...constant_arr];\n            return Assembly_code;\n        }\n        else if(singleLine_content.includes(\"static\")){\n            return Assembly_code\n        }\n        else{\n            const tobeSeparated = singleLine_content.trim();\n            const segments = tobeSeparated.split(\" \");\n            const firstValue = \"@\" +segments[1];\n            let nextValue = \"\";\n            let tempidentified = \"\";\n            if(Object.keys(mappingObj).includes(segments[0])){\n                    nextValue = \"@\" + mappingObj[segments[0]]\n                    if(segments[0] === \"temp\"){\n                        tempidentified = \"D=D+A\"\n                    }\n                    else{\n                        tempidentified = \"D=D+M\"\n    \n                    }\n            }\n            const segmentArr = [firstValue,\"D=A\",nextValue,\"A=M+D\",\"D=M\",\"@SP\",\"A=M\",\"M=D\",\"@SP\",\"M=M+1\"]\n            Assembly_code = [...Assembly_code,...segmentArr]\n            return Assembly_code \n        }\n    }\n\n\n    const popHandler = (singleLine) => {\n        const singleLine_content = singleLine.replace(\"pop\",\"\");\n        if(singleLine_content.includes(\"pointer\")){\n            const temp = singleLine_content.replace(\"pointer\",\"\")\n            const singleLine_pointer = temp.trim();\n            const tobeAdded = \"@\" + singleLine_pointer;\n            let comment = \"//\" + singleLine_content\n            const pointerArr = [comment,\"@SP\",\"M=M-1\",\"@SP\",\"A=M\",\"D=M\",tobeAdded,\"A=D\"]\n            Assembly_code = [...Assembly_code,...pointerArr]\n            return Assembly_code;\n        }\n        else if(singleLine_content.includes(\"static\")){\n            return Assembly_code\n        }\n        else{\n            const tobeSeparated_Pop = singleLine_content.trim();\n            const segments_pop = tobeSeparated_Pop.split(\" \");\n            const first_pop = \"@\" +segments_pop[1];\n            let next_pop = \"\";\n            let tempidentified = \"\";\n            let comment = \"//\" + singleLine_content\n            if(Object.keys(mappingObj).includes(segments_pop[0])){\n                next_pop = \"@\" + mappingObj[segments_pop[0]]\n                if(segments_pop[0] === \"temp\"){\n                    tempidentified = \"D=D+A\"\n                }\n                else{\n                    tempidentified = \"D=D+M\"\n\n                }\n            }\n            const segment_pop_arr = [comment,first_pop,\"D=A\",next_pop,tempidentified,\"@R13\",\"M=D\",\"@SP\",\"M=M-1\",\"@SP\",\"A=M\",\"D=M\",\"@R13\",\"A=M\",\"M=D\"];\n            Assembly_code = [...Assembly_code,...segment_pop_arr]\n            return Assembly_code\n        }\n    }\n\n\n    const artihmeticHandler = (singleLine_content) => {\n        if(singleLine_content === \"add\"){\n            let comment = \"//\" + singleLine_content\n            console.log(\"I'm called twice\");\n            const addArr = [comment,\"@SP\",\"M=M-1\",\"@SP\",\"A=M\",\"D=M\",\"@SP\",\"M=M-1\",\"@SP\",\"A=M\",\n            \"D=M+D\",\"@SP\",\"A=M\",\"M=D\",\"@SP\",\"M=M+1\"];\n            Assembly_code = [...Assembly_code,...addArr]\n        }\n        else if(singleLine_content === \"sub\"){\n            console.log(\"I'm called once\")\n            let comment = \"//\" + singleLine_content\n            const subArr = [comment,\"@SP\",\"M=M-1\",\"@SP\",\"A=M\",\"D=M\",\"@SP\",\"M=M-1\",\"@SP\",\"A=M\",\n            \"D=M-D\",\"@SP\",\"A=M\",\"M=D\",\"@SP\",\"M=M+1\"];\n            Assembly_code = [...Assembly_code,...subArr]\n        }\n        return Assembly_code;\n    }\n\n\n    const codeReplacer = (singleLine_content) => {\n        if(singleLine_content.startsWith(\"push\")){\n            pushHandler(singleLine_content);\n        }\n        else if(singleLine_content.startsWith(\"pop\")){\n            popHandler(singleLine_content);\n        }\n        else if(singleLine_content.startsWith(\"add\") || singleLine_content.startsWith(\"sub\")){\n            console.log(\"I'm about to be called\",singleLine_content);\n            artihmeticHandler(singleLine_content);\n        }\n    }\n\n \n        content.map((item) =>{\n                return codeReplacer(item)\n            }\n            )\n\n \n\n    return (\n        <div>\n            <ConvertToFile content={Assembly_code} />\n        </div>\n    );\n}\n\nexport default Codewriter;"]},"metadata":{},"sourceType":"module"}